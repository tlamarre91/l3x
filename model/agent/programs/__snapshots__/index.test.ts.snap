// Vitest Snapshot v1, https://vitest.dev/guide/snapshot.html

exports[`parse throws 1`] = `[Error: first token must be keyword; got scan]`;

exports[`parse works 1`] = `
{
  "codeLines": [
    "def start",
    "echo hello world",
    "test $peeklast > 0",
    "",
    "def loopdeloop",
    "echo again 1 $loop",
    "echo again 2 $loop",
    "go loopdeloop",
    "",
    "def moveover",
    "go f",
    "go start",
    "",
  ],
  "statements": [
    {
      "start": {
        "column": 0,
        "line": 0,
      },
      "tokens": [
        {
          "start": {
            "column": 0,
            "line": 0,
          },
          "symbol": "def",
        },
        {
          "start": {
            "column": 4,
            "line": 0,
          },
          "symbol": "start",
        },
      ],
    },
    {
      "start": {
        "column": 0,
        "line": 1,
      },
      "tokens": [
        {
          "start": {
            "column": 0,
            "line": 1,
          },
          "symbol": "echo",
        },
        {
          "start": {
            "column": 5,
            "line": 1,
          },
          "symbol": "hello",
        },
        {
          "start": {
            "column": 11,
            "line": 1,
          },
          "symbol": "world",
        },
      ],
    },
    {
      "start": {
        "column": 0,
        "line": 2,
      },
      "tokens": [
        {
          "start": {
            "column": 0,
            "line": 2,
          },
          "symbol": "test",
        },
        {
          "start": {
            "column": 5,
            "line": 2,
          },
          "symbol": "$peeklast",
        },
        {
          "start": {
            "column": 15,
            "line": 2,
          },
          "symbol": ">",
        },
        {
          "start": {
            "column": 17,
            "line": 2,
          },
          "symbol": "0",
        },
      ],
    },
    {
      "start": {
        "column": 0,
        "line": 4,
      },
      "tokens": [
        {
          "start": {
            "column": 0,
            "line": 4,
          },
          "symbol": "def",
        },
        {
          "start": {
            "column": 4,
            "line": 4,
          },
          "symbol": "loopdeloop",
        },
      ],
    },
    {
      "start": {
        "column": 0,
        "line": 5,
      },
      "tokens": [
        {
          "start": {
            "column": 0,
            "line": 5,
          },
          "symbol": "echo",
        },
        {
          "start": {
            "column": 5,
            "line": 5,
          },
          "symbol": "again",
        },
        {
          "start": {
            "column": 11,
            "line": 5,
          },
          "symbol": "1",
        },
        {
          "start": {
            "column": 13,
            "line": 5,
          },
          "symbol": "$loop",
        },
      ],
    },
    {
      "start": {
        "column": 0,
        "line": 6,
      },
      "tokens": [
        {
          "start": {
            "column": 0,
            "line": 6,
          },
          "symbol": "echo",
        },
        {
          "start": {
            "column": 5,
            "line": 6,
          },
          "symbol": "again",
        },
        {
          "start": {
            "column": 11,
            "line": 6,
          },
          "symbol": "2",
        },
        {
          "start": {
            "column": 13,
            "line": 6,
          },
          "symbol": "$loop",
        },
      ],
    },
    {
      "start": {
        "column": 0,
        "line": 7,
      },
      "tokens": [
        {
          "start": {
            "column": 0,
            "line": 7,
          },
          "symbol": "go",
        },
        {
          "start": {
            "column": 3,
            "line": 7,
          },
          "symbol": "loopdeloop",
        },
      ],
    },
    {
      "start": {
        "column": 0,
        "line": 9,
      },
      "tokens": [
        {
          "start": {
            "column": 0,
            "line": 9,
          },
          "symbol": "def",
        },
        {
          "start": {
            "column": 4,
            "line": 9,
          },
          "symbol": "moveover",
        },
      ],
    },
    {
      "start": {
        "column": 0,
        "line": 10,
      },
      "tokens": [
        {
          "start": {
            "column": 0,
            "line": 10,
          },
          "symbol": "go",
        },
        {
          "start": {
            "column": 3,
            "line": 10,
          },
          "symbol": "f",
        },
      ],
    },
    {
      "start": {
        "column": 0,
        "line": 11,
      },
      "tokens": [
        {
          "start": {
            "column": 0,
            "line": 11,
          },
          "symbol": "go",
        },
        {
          "start": {
            "column": 3,
            "line": 11,
          },
          "symbol": "start",
        },
      ],
    },
  ],
}
`;

exports[`parse+compile throws 1`] = `[Error: statement is not part of a state definition]`;

exports[`parse+compile works 1`] = `
{
  "procedures": Map {
    "start" => {
      "commands": [
        {
          "instruction": "echo",
          "message": "hey dudes",
        },
        {
          "instruction": "echo",
          "message": "this is about it huh?",
        },
      ],
      "name": "start",
    },
    "end" => {
      "commands": [
        {
          "instruction": "echo",
          "message": "bye dudes",
        },
      ],
      "name": "end",
    },
  },
  "program": {
    "codeLines": [
      "   def start",
      "        echo hey dudes",
      "              echo this is about it huh?",
      "",
      "def end",
      "echo bye dudes",
      "",
    ],
    "statements": [
      {
        "start": {
          "column": 3,
          "line": 0,
        },
        "tokens": [
          {
            "start": {
              "column": 3,
              "line": 0,
            },
            "symbol": "def",
          },
          {
            "start": {
              "column": 7,
              "line": 0,
            },
            "symbol": "start",
          },
        ],
      },
      {
        "start": {
          "column": 8,
          "line": 1,
        },
        "tokens": [
          {
            "start": {
              "column": 8,
              "line": 1,
            },
            "symbol": "echo",
          },
          {
            "start": {
              "column": 13,
              "line": 1,
            },
            "symbol": "hey",
          },
          {
            "start": {
              "column": 17,
              "line": 1,
            },
            "symbol": "dudes",
          },
        ],
      },
      {
        "start": {
          "column": 14,
          "line": 2,
        },
        "tokens": [
          {
            "start": {
              "column": 14,
              "line": 2,
            },
            "symbol": "echo",
          },
          {
            "start": {
              "column": 19,
              "line": 2,
            },
            "symbol": "this",
          },
          {
            "start": {
              "column": 24,
              "line": 2,
            },
            "symbol": "is",
          },
          {
            "start": {
              "column": 27,
              "line": 2,
            },
            "symbol": "about",
          },
          {
            "start": {
              "column": 33,
              "line": 2,
            },
            "symbol": "it",
          },
          {
            "start": {
              "column": 36,
              "line": 2,
            },
            "symbol": "huh?",
          },
        ],
      },
      {
        "start": {
          "column": 0,
          "line": 4,
        },
        "tokens": [
          {
            "start": {
              "column": 0,
              "line": 4,
            },
            "symbol": "def",
          },
          {
            "start": {
              "column": 4,
              "line": 4,
            },
            "symbol": "end",
          },
        ],
      },
      {
        "start": {
          "column": 0,
          "line": 5,
        },
        "tokens": [
          {
            "start": {
              "column": 0,
              "line": 5,
            },
            "symbol": "echo",
          },
          {
            "start": {
              "column": 5,
              "line": 5,
            },
            "symbol": "bye",
          },
          {
            "start": {
              "column": 9,
              "line": 5,
            },
            "symbol": "dudes",
          },
        ],
      },
    ],
  },
  "sourceMap": Map {
    {
      "commands": [
        {
          "instruction": "echo",
          "message": "hey dudes",
        },
        {
          "instruction": "echo",
          "message": "this is about it huh?",
        },
      ],
      "name": "start",
    } => {
      "column": 3,
      "line": 0,
    },
    {
      "instruction": "echo",
      "message": "hey dudes",
    } => {
      "column": 8,
      "line": 1,
    },
    {
      "instruction": "echo",
      "message": "this is about it huh?",
    } => {
      "column": 14,
      "line": 2,
    },
    {
      "commands": [
        {
          "instruction": "echo",
          "message": "bye dudes",
        },
      ],
      "name": "end",
    } => {
      "column": 0,
      "line": 4,
    },
    {
      "instruction": "echo",
      "message": "bye dudes",
    } => {
      "column": 0,
      "line": 5,
    },
  },
}
`;
